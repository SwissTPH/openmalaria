<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Schema for OpenMalaria input documents
Copyright Â© 2005-2012 Swiss Tropical Institute and Liverpool School Of Tropical Medicine
Licence: GNU General Public Licence version 2 or later (see COPYING) -->
<xs:schema targetNamespace="http://openmalaria.org/schema/scenario_34"
           xmlns:om="http://openmalaria.org/schema/scenario_34"
           xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:include schemaLocation="healthSystem.xsd"/>
  <xs:include schemaLocation="entomology.xsd"/>
  <xs:include schemaLocation="util.xsd"/>
  <xs:complexType name="Interventions">
    <xs:all>
      <xs:element minOccurs="0" name="changeHS">
        <xs:annotation>
          <xs:documentation>
            Changes to the health system
          </xs:documentation>
          <xs:appinfo>name:Change health system;</xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="timedDeployment" minOccurs="0" maxOccurs="unbounded">
              <xs:complexType>
                <xs:complexContent>
                  <xs:extension base="om:HealthSystem">
                    <xs:annotation>
                      <xs:documentation>
                        A complete replacement health system. Replaces all previous properties.
                        (Health system can be replaced multiple times if necessary.)
                      </xs:documentation>
                      <xs:appinfo>name:Timed replacement;</xs:appinfo>
                    </xs:annotation>
                    <xs:attribute name="time" type="xs:string" use="required">
                      <xs:annotation>
                        <xs:documentation>
                          Time at which this replacement occurs. See doc on
                          intervention period and on monitoring/startDate for
                          details of how times work.
                          
                          Can be specified in steps, days, years, or as a date
                          (examples: 15t, 75d, 0.2y, 2000-03-16).
                        </xs:documentation>
                        <xs:appinfo>name:Time;units:User defined (defauls to steps);min:0;</xs:appinfo>
                      </xs:annotation>
                    </xs:attribute>
                  </xs:extension>
                </xs:complexContent>
              </xs:complexType>
            </xs:element>
          </xs:sequence>
          <xs:attribute name="name" type="xs:string" use="optional">
            <xs:annotation>
              <xs:documentation>
                Name of intervention
              </xs:documentation>
              <xs:appinfo>name:Name of intervention;</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
      <xs:element minOccurs="0" name="changeEIR">
        <xs:annotation>
          <xs:documentation>
            New description of transmission level for models not
            supporting vector control interventions. Use of this overrides
            previous transmission levels such that human infectiousness no
            longer has any feedback effect on transmission. Supplied EIR
            data must last until end of simulation.
          </xs:documentation>
          <xs:appinfo>name:Change transmission levels;</xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="timedDeployment" minOccurs="0" maxOccurs="unbounded">
              <xs:complexType>
                <xs:complexContent>
                  <xs:extension base="om:NonVector">
                    <xs:annotation>
                      <xs:documentation>
                        Replacement transmission levels. Disables feedback of
                        human infectiousness to mosquitoes on further mosquito
                        to human transmission. Must last until end of simulation.
                      </xs:documentation>
                      <xs:appinfo>name:Timed replacement;</xs:appinfo>
                    </xs:annotation>
                    <xs:attribute name="time" type="xs:string" use="required">
                      <xs:annotation>
                        <xs:documentation>
                          Time at which this replacement occurs. See doc on
                          intervention period and on monitoring/startDate for
                          details of how times work.
                          
                          Can be specified in steps, days, years, or as a date
                          (examples: 15t, 75d, 0.2y, 2000-03-16).
                        </xs:documentation>
                        <xs:appinfo>name:Time;units:User defined (defauls to steps);min:0;</xs:appinfo>
                      </xs:annotation>
                    </xs:attribute>
                  </xs:extension>
                </xs:complexContent>
              </xs:complexType>
            </xs:element>
          </xs:sequence>
          <xs:attribute name="name" type="xs:string" use="optional">
            <xs:annotation>
              <xs:documentation>
                Name of intervention
              </xs:documentation>
              <xs:appinfo>name:Name of intervention;</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
      <xs:element minOccurs="0" name="importedInfections">
        <xs:annotation>
          <xs:documentation>
            Models importation of P. falciparum infections directly into humans
            from an external source. This is infections, not inoculations or
            EIR being imported.
          </xs:documentation>
          <xs:appinfo>name:Imported infections;</xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="timed">
              <xs:annotation>
                <xs:documentation>
                  Rate of case importation, as a step function. Each value is
                  valid until replaced by the next value.
                </xs:documentation>
                <xs:appinfo>name:Rate of importation</xs:appinfo>
              </xs:annotation>
              <xs:complexType>
                <xs:sequence>
                  <xs:element name="rate" minOccurs="1" maxOccurs="unbounded">
                    <xs:complexType>
                      <xs:complexContent>
                        <xs:extension base="om:DoubleValue">
                          <xs:annotation>
                            <xs:documentation>A time-rate pair.</xs:documentation>
                            <xs:appinfo>name:Rate;units:Imported cases per thousand people per year;</xs:appinfo>
                          </xs:annotation>
                          <xs:attribute name="time" type="xs:string" use="required">
                            <xs:annotation>
                              <xs:documentation>
                                Time at which this importation rate becomes active.
                                
                                See doc on intervention period and on monitoring/startDate for
                                details of how times work. Can be specified in steps, days,
                                years, or as a date (examples: 15t, 75d, 0.2y, 2000-03-16).
                              </xs:documentation>
                              <xs:appinfo>name:Time of start;units:User defined (defauls to steps);min:0;</xs:appinfo>
                            </xs:annotation>
                          </xs:attribute>
                        </xs:extension>
                      </xs:complexContent>
                    </xs:complexType>
                  </xs:element>
                </xs:sequence>
                <xs:attribute name="period" type="xs:string" default="0">
                  <xs:annotation>
                    <xs:documentation>
                      If period is 0 (or effectively infinite), the last specified
                      value remains indefinitely in effect, otherwise the times of
                      all values specified must be less than the period, and values
                      are repeated modulo period (the step at time 'period+2t'
                      has same value as the step at '2t', etc.).
                      
                      Can be specified in steps (e.g. 1t) or days (e.g. 365d).
                    </xs:documentation>
                    <xs:appinfo>name:Period of repetition;units:User defined (default: steps);min:0</xs:appinfo>
                  </xs:annotation>
                </xs:attribute>
              </xs:complexType>
            </xs:element>
          </xs:sequence>
          <xs:attribute name="name" type="xs:string" use="optional">
            <xs:annotation>
              <xs:documentation>
                Name of intervention
              </xs:documentation>
              <xs:appinfo>name:Name of intervention;</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
      <xs:element minOccurs="0" name="insertR_0Case">
        <xs:annotation>
          <xs:documentation>
            Used to simulate R_0. First, infections should be eliminated,
            immunity removed, and the population given an effective transmission-
            blocking vaccine (not done by this intervention). Then this
            intervention may be used to: pick one human, infect him, administer
            a fully effective Preerythrocytic vaccine and remove
            transmission-blocking vaccine effect on this human. Thus only this
            one human will be a source of infections in an unprotected population,
            and will not reinfected himself.
          </xs:documentation>
          <xs:appinfo>name:Insert R_0 case;</xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="timedDeployment" minOccurs="0" maxOccurs="unbounded">
              <xs:complexType>
                <xs:annotation>
                  <xs:appinfo>name:Timed occurrence;</xs:appinfo>
                </xs:annotation>
                <xs:attribute name="time" type="xs:string" use="required">
                  <xs:annotation>
                    <xs:documentation>
                      Time at which this intervention occurs.
                      
                      See doc on intervention period and on monitoring/startDate for
                      details of how times work. Can be specified in steps, days,
                      years, or as a date (examples: 15t, 75d, 0.2y, 2000-03-16).
                    </xs:documentation>
                    <xs:appinfo>name:Time;units:User defined (defauls to steps);min:0;</xs:appinfo>
                  </xs:annotation>
                </xs:attribute>
              </xs:complexType>
            </xs:element>
          </xs:sequence>
          <xs:attribute name="name" type="xs:string" use="optional">
            <xs:annotation>
              <xs:documentation>
                Name of intervention
              </xs:documentation>
              <xs:appinfo>name:Name of intervention;</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
      <xs:element minOccurs="0" name="uninfectVectors">
        <xs:annotation>
          <xs:documentation>
            Removes all infections from mosquitoes -- resulting in zero EIR to
            humans, until such time that mosquitoes are re-infected and become
            infectious. Only efficacious in dynamic EIR mode (when changeEIR was
            not used).
            
            Hypothetical, but potentially useful to simulate a setting starting
            from no infections, but with enough mosquitoes to reach a set
            equilibrium of exposure.
          </xs:documentation>
          <xs:appinfo>units:List of elements;name:Uninfect vectors;</xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="timedDeployment" minOccurs="0" maxOccurs="unbounded">
              <xs:complexType>
                <xs:annotation>
                  <xs:appinfo>name:Timed occurrence;</xs:appinfo>
                </xs:annotation>
                <xs:attribute name="time" type="xs:string" use="required">
                  <xs:annotation>
                    <xs:documentation>
                      Time at which this intervention occurs.
                      
                      See doc on intervention period and on monitoring/startDate for
                      details of how times work. Can be specified in steps, days,
                      years, or as a date (examples: 15t, 75d, 0.2y, 2000-03-16).
                    </xs:documentation>
                    <xs:appinfo>name:Time;units:User defined (defauls to steps);min:0;</xs:appinfo>
                  </xs:annotation>
                </xs:attribute>
              </xs:complexType>
            </xs:element>
          </xs:sequence>
          <xs:attribute name="name" type="xs:string" use="optional">
            <xs:annotation>
              <xs:documentation>
                Name of intervention
              </xs:documentation>
              <xs:appinfo>name:Name of intervention;</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
      <xs:element minOccurs="0" name="vectorPop">
        <xs:annotation>
          <xs:documentation>A list of parameterisations of generic vector host-inspecific interventions.</xs:documentation>
          <xs:appinfo>name:Vector population intervention;units:List of elements;</xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <!-- Note: the ONLY reason for this list being wrapped with the
            extra "vectorPop" element is that XSD 1.0 only allows unrepeated
            elements in an "all" section or multiple in a "sequence" section.
            Using the latter would invalidate existing XMLs and cause excess.
            confusion. XSD 1.1 does not have this limitation but still has
            limited support. -->
            <xs:element minOccurs="1" maxOccurs="unbounded" name="intervention" type="om:VectorIntervention"/>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="human" type="om:HumanInterventions" minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            Encapsulates all interventions whose effects are specific to the
            human host: any interventions where target humans may be selected
            via population-coverage, age limits and sub-population membership.
          </xs:documentation>
          <xs:appinfo>name:Human-specific interventions;</xs:appinfo>
        </xs:annotation>
      </xs:element>
    </xs:all>
    <xs:attribute name="name" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>Name of set of interventions</xs:documentation>
        <xs:appinfo>name:Name of intervention set;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="HumanInterventions">
    <xs:sequence>
      <xs:element name="component" minOccurs="1" maxOccurs="unbounded" type="om:HumanInterventionComponent">
        <xs:annotation>
          <xs:documentation>
            A parameterisation of an effect achieved by one component of an
            intervention. (An intervention is described as the effects of a set
            of components plus deployments of those components. This describes
            the components individually, not deployments or which components
            comprise an intervention.)
            
            Each element describes one component: its effects, decay of the(se)
            effect(s), and related stuff (e.g. description of indirect decay
            and of usage levels).
            
            Different interventions can deploy the same component to the same
            perso. In most cases this will just deploy a fresh instance (e.g. a
            new bed net will replace the old (nobody uses multiple bed nets),
            or a new drug dose will act on top of previous doses, or in the
            case of a vaccine, effect depends on the total number of previous
            inoculations (including from other interventions).
            
            Where multiple components of the same type (but with different ids)
            are deployed (whether within a single intervention or by multiple
            interventions), they act independently (e.g. two bed nets deployed
            to a single host would act to reduce attractiveness or survival of
            mosquitoes biting that host twice â this may be useful to simulate
            some novel vector intervention since the two nets may have separate
            parameters).
          </xs:documentation>
          <xs:appinfo>name:Component;</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="deployment">
        <xs:annotation>
          <xs:documentation>
            This element describes deployment of an intervention: which
            components are deployed, how humans are selected for deployment
            (via timed or age-based deployment) as well as a few additional
            restrictions (e.g. vaccine dosing restrictions).
            
            All components deployed by this intervention are deployed to the
            same people (each timed or continuous deployment selects recipients
            and then gives each recipient all components of the intervention).
          </xs:documentation>
          <xs:appinfo>name:Deployment;</xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="component" maxOccurs="unbounded" type="om:Component"/>
            <xs:element minOccurs="0" maxOccurs="unbounded" name="continuous" type="om:ContinuousList">
            <xs:annotation>
                <xs:documentation>List of ages at which deployment takes place
                (through EPI, post-natal and school-based programmes, etc.).
                
                A sub-population restriction may be added as a property of the
                list of continuous deployments.
                </xs:documentation>
                <xs:appinfo>name:Age-based (continuous) deployment;</xs:appinfo>
              </xs:annotation>
            </xs:element>
            <xs:element minOccurs="0" maxOccurs="unbounded" name="timed" type="om:MassListWithCum">
              <xs:annotation>
                <xs:documentation>
                  List of timed deployments of the intervention (that is, of
                  deployment campaigns).
                  
                  Cumulative deployment mode can be specified for all deployments in a timed list.
                  To allow multiple cumulative deployment descriptions, the entire timed list
                  may be repeated.
                </xs:documentation>
                <xs:appinfo>name:Mass (timed) deployment;</xs:appinfo>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
          <xs:attribute name="name" type="xs:string" use="optional">
            <xs:annotation>
              <xs:documentation>Name of intervention</xs:documentation>
              <xs:appinfo>name:Intervention name;</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="HumanInterventionComponent">
    <xs:sequence>
      <xs:choice>
        <xs:element name="screen" type="om:Screen"/>
        <xs:element name="treatSimple" type="om:DTTreatSimple"/>
        <xs:element name="treatPKPD" type="om:DTTreatPKPD"/>
        <xs:element name="decisionTree" type="om:DecisionTree"/>
        <xs:element name="PEV" type="om:VaccineDescription">
          <xs:annotation>
            <xs:documentation>
              Pre-erythrocytic vaccine (PEV): prevents a proportion of infections
              from commencing.
            </xs:documentation>
            <xs:appinfo>name:Vaccines;</xs:appinfo>
          </xs:annotation>
        </xs:element>
        <xs:element name="BSV" type="om:VaccineDescription">
          <xs:annotation>
            <xs:documentation>
              Blood-stage vaccine (BSV): acts as a killing factor on blood-stage
              parasites. Exact action depends on the within host model.
            </xs:documentation>
            <xs:appinfo>name:Vaccines;</xs:appinfo>
          </xs:annotation>
        </xs:element>
        <xs:element name="TBV" type="om:VaccineDescription">
          <xs:annotation>
            <xs:documentation>
              Transmission-blocking vaccine (TBV): one minus this scales the
              probability of transmission to mosquitoes
            </xs:documentation>
            <xs:appinfo>name:Vaccines;</xs:appinfo>
          </xs:annotation>
        </xs:element>
        <xs:element name="ITN" type="om:ITNDescription">
          <xs:annotation>
            <xs:documentation>
              Description of bed-net interventions (ITNs, LLINs).
            </xs:documentation>
            <xs:appinfo>name:Bed nets;</xs:appinfo>
          </xs:annotation>
        </xs:element>
        <xs:element name="IRS" type="om:IRSDescription">
          <xs:annotation>
            <xs:documentation>
              Description of indoor residual spraying interventions.
            </xs:documentation>
            <xs:appinfo>name:Indoor residual spraying;</xs:appinfo>
          </xs:annotation>
        </xs:element>
        <xs:element name="GVI" type="om:GVIDescription">
          <xs:annotation>
            <xs:documentation>
              Low-level description of intervention effects on vectors (i.e.
              mosquitoes). Can be used to describe simple ITN or IRS
              interventions (though more complex models are available for these
              interventions) or other interventions such as mosquito repellant
              or ivermectin.
              
              Note that all actions of this intervention component will decay
              according to a single decay function. If independant decay is
              wanted, a separate component can be used for each action.
            </xs:documentation>
            <xs:appinfo>name:Generic vector intervention;</xs:appinfo>
          </xs:annotation>
        </xs:element>
        <xs:element name="recruitmentOnly" minOccurs="0">
          <xs:annotation>
            <xs:documentation>
              Recruitment of a host into a sub-population.
              
              All human-targeting intervention deployments recruit simulated
              humans into a sub-population which can be used for the purposes
              of cumulative deployment, deployment only to a sub-population and
              defining a cohort. This pseudo-intervention can be used to define
              a sub-population without also deploying some intervention.
            </xs:documentation>
            <xs:appinfo>name:Recruitment only;</xs:appinfo>
          </xs:annotation>
          <xs:complexType/>
        </xs:element>
        <xs:element name="clearImmunity">
          <xs:annotation>
            <xs:documentation>
              Removes all exposure-related immunitsy gained over time by hosts
              without removing infections (or affecting the ability to gain
              immunity through exposure).
              
              Hypothetical, but potentially useful to simulate scenarios with
              unprotected humans.
            </xs:documentation>
            <xs:appinfo>name:Clear Immunity;</xs:appinfo>
          </xs:annotation>
          <xs:complexType/>
        </xs:element>
      </xs:choice>
      <xs:element name="subPopRemoval" minOccurs="0" type="om:SubPopRemoval"/>
    </xs:sequence>
    <xs:attribute name="id" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>
          A short name or code identifying the intervention component
          (used to refer to this component when describing an intervention).
          Also the id of the sub-population defined as those hosts who have
          received this intervention and who haven't subsequently been removed
          from the sub-population.
        </xs:documentation>
        <xs:appinfo>name:Component identifier;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="name" type="xs:string" use="optional">
      <xs:annotation>
        <xs:documentation>
          An informal name/description for the component
        </xs:documentation>
        <xs:appinfo>name:Name of component;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="SubPopRemoval">
    <xs:annotation>
      <xs:documentation>
        Each human intervention component corresponds to a sub-population:
        those who have received or are considered to be protected by the
        intervention component. Humans automatically become members of this
        sub-population when receiving an intervention component; this element
        controls how humans are removed from the sub-population.
        
        ITN attrition also removes humans from sub-populations.
        
        Note that sub-populations do not directly correspond to an
        intervention's effects: lack of effectiveness does not imply removal
        from the sub-population (except as explicitly configured here) and
        removal from the sub-population does not halt an intervention's
        effects.
        
        Sub-populations may be used to define a cohort, to restrict deployment
        of other interventions and to use cumulative deployment mode. A sub-
        population may or may not correspond (roughly) to humans protected by
        some intervention.
      </xs:documentation>
      <xs:appinfo>name:Remove from sub-population ...;</xs:appinfo>
    </xs:annotation>
    <xs:attribute name="onFirstBout" type="xs:boolean" default="false">
      <xs:annotation>
        <xs:documentation>
          If true, remove individuals from the sub-population at the start of
          the first episode (start of a clinical bout) since they were
          recruited into the sub-population. This is intended for cohort
          studies which measure time to the first episode, using active
          case detection.
          
          Reports delayed due to health-system memory are forced out when this
          occurs. Note that this can increase the number of uncomplicated cases
          reported across the entire population; for this reason reports are
          not forced on recruitment or most removal options.
          
          This does not prevent re-recruitment in the case that recruitment
          settings could conceivably recruit the same individual twice.
        </xs:documentation>
        <xs:appinfo>name:Time to first episode only;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="onFirstTreatment" type="xs:boolean" default="false">
      <xs:annotation>
        <xs:documentation>
          If true, remove individuals from the sub-population when they first
          seektreatment since they were recruited into the sub-population. This
          is intended for cohort studies which measure the time to first
          episode, using passive case detection.
          
          Reports delayed due to health-system memory are forced out when this
          occurs. Note that this can increase the number of uncomplicated cases
          reported across the entire population; for this reason reports are
          not forced on recruitment or most removal options.
          
          This does not prevent re-recruitment in the case that recruitment
          settings could conceivably recruit the same individual twice.
        </xs:documentation>
        <xs:appinfo>name:Time to first treatment only;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="onFirstInfection" type="xs:boolean" default="false">
      <xs:annotation>
        <xs:documentation>
          If true, remove individuals from the sub-population at completion of
          the first survey in which they present with a patent infection since
          they were recruited into the sub-population. This intended for cohort
          studies which measure time to the first infection, using active
          case detection.
          
          Reports delayed due to health-system memory are forced out when this
          occurs. Note that this can increase the number of uncomplicated cases
          reported across the entire population; for this reason reports are
          not forced on recruitment or most removal options.
          
          This does not prevent re-recruitment in the case that recruitment settings could
          conceivably recruit the same individual twice.
        </xs:documentation>
        <xs:appinfo>name:Time to first infection only;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="afterYears" type="xs:double" use="optional">
      <xs:annotation>
        <xs:documentation>
          If given, membership to the sub-population of humans who have
          received this intervention component expires after the given number of
          years. Note that future deployments renew membership (e.g. if this
          parameter is 4 years and the intervention is redeployed 3 years from
          now, expiry happens after 7 years).
          
          This provides a crude way of modelling a cohort protected by some
          intervention. A few interventions provide more detailed ways of
          modelling expiry of protection. In any case, "expiry of protection"
          is an abstract concept and does not imply that all protection has
          ceased, even in the simulator.
          
          This may also be useful for cumulative deployment.
          
          Minimum duration is zero, which implies the human is effectively
          never a member of the sub-population; a duration of one timestep
          implies the human is a member of the sub-population while any futher
          interventions are deployed on the same time as this human becomes a
          member and on the next update of the human (including transmission
          and health system events) but not beyond that. If this attribute is
          not given, the simulated human is a member until death or some other
          option triggers removal.
          
          Input is rounded to the nearest time step.
        </xs:documentation>
        <xs:appinfo>name:Remove from sub-population after;units:Years;min:0;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="Screen">
    <xs:annotation>
      <xs:documentation>
        This can be combined with MDA to achieve mass screen and treat (MSAT)
        or other types of mass screening intervention.
        
        When deployed to a host, this simulates a test of patent malaria
        (microscopy, RDT or some such), then triggers deployment of whichever
        intervention components are configured (deployments for both positive
        and negative test outcomes can be configured).
        
        The use of the screening itself is reported (if enabled), but not the
        outcome. Deployment of interventions triggered by the screening may
        be reported, however.
      </xs:documentation>
      <xs:appinfo>name:(Mass) screening;</xs:appinfo>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="positive" minOccurs="0" maxOccurs="unbounded" type="om:Component"/>
      <xs:element name="negative" minOccurs="0" maxOccurs="unbounded" type="om:Component"/>
    </xs:sequence>
    <xs:attribute name="diagnostic" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>
          Name of a parameterised diagnostic (see scenario/diagnostics).
        </xs:documentation>
        <xs:appinfo>name:Name of diagnostic;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="VectorIntervention">
    <xs:annotation>
      <xs:documentation>
        An intervention which may have various effects on the vector populations as a whole. (Not host specific.)
        
        Multiple instances of this intervention class are allowed (multiple parameterisations, not just deployments).
        
        Each instance may have multiple deployments. In this case the effects of each instance
        are independent (effects are combined) but the effects of multiple deployments of a single
        instance are not independent (only the latest deployment has any effect).
      </xs:documentation>
      <xs:appinfo>units:List of elements;name:Vector population intervention;</xs:appinfo>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="description">
        <xs:complexType>
          <xs:sequence>
            <xs:element name="anopheles" maxOccurs="unbounded" type="om:VectorSpeciesIntervention"/>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element minOccurs="0" name="timed" type="om:TimedBaseList">
        <xs:annotation>
          <xs:documentation>
            List of timed vector population intervention deployment
          </xs:documentation>
          <xs:appinfo>name:Vector population intervention deployment;</xs:appinfo>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="name" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>
          Name of intervention (e.g. larviciding, sugar bait).
        </xs:documentation>
        <xs:appinfo>name:Name of intervention;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="TimedBase">
    <xs:attribute name="time" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>
          Time at which this deployment occurs.
          
          See doc on intervention period and on monitoring/startDate for
          details of how times work. Can be specified in steps, days,
          years, or as a date (examples: 15t, 75d, 0.2y, 2000-03-16).
        </xs:documentation>
        <xs:appinfo>name:Time;units:User defined (defauls to steps);min:0;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="DeploymentBase">
    <xs:attribute name="coverage" type="xs:double" use="required">
      <xs:annotation>
        <xs:documentation>
          Proportion of otherwise eligible individuals who will receive this
          deployment.
        </xs:documentation>
        <xs:appinfo>units:dimensionless;min:0;max:1;name:Coverage;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="vaccMinPrevDoses" type="xs:int" use="optional">
      <xs:annotation>
        <xs:documentation>
          Applies to vaccines only: vaccine doses are only deployed by this
          deployment if the previous number of doses (for the component
          deployed) is at least this number.
          
          For example, if this is the second deployment opportunity for this
          vaccine and this value is 1, then this deployment cannot deploy the
          vaccine to individuals who did not receive the first deployment.
        </xs:documentation>
        <xs:appinfo>name:Vaccine min previous doses;units:inoculations;min:0;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="vaccMaxCumDoses" type="xs:int" use="optional">
      <xs:annotation>
        <xs:documentation>
          Applies to vaccines only: vaccine doses are only deployed by this
          deployment if the previous number of doses (for the component
          deployed) is less than this number.
        </xs:documentation>
        <xs:appinfo>name:Vaccine max cumulative doses;units:inoculations;min:0;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="MassDeployment">
    <xs:complexContent>
      <xs:extension base="om:DeploymentBase">
        <xs:attribute name="time" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>
              Time at which this deployment occurs.
              
              See doc on intervention period and on monitoring/startDate for
              details of how times work. Can be specified in steps, days,
              years, or as a date (examples: 15t, 75d, 0.2y, 2000-03-16).
            </xs:documentation>
            <xs:appinfo>name:Time;units:User defined (defauls to steps);min:0;</xs:appinfo>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="maxAge" type="xs:double" use="optional">
          <xs:annotation>
            <xs:documentation>
              Maximum age of eligible individuals (defaults to no limit).
              
              Input is rounded to the nearest time step.
            </xs:documentation>
            <xs:appinfo>units:Years;min:0;name:Maximum age of eligible individuals;</xs:appinfo>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="minAge" type="xs:double" default="0">
          <xs:annotation>
            <xs:documentation>
              Minimum age of eligible individuals (defaults to 0).
              
              Input is rounded to the nearest time step.
            </xs:documentation>
            <xs:appinfo>units:Years;min:0;name:Minimum age of eligible individuals;</xs:appinfo>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ContinuousList">
    <xs:sequence>
      <xs:element name="restrictToSubPop" type="om:RestrictToSubPop" minOccurs="0"/>
      <!-- Note: minimum is 1 to save an extra check in code. -->
      <xs:element name="deploy" type="om:ContinuousDeployment" minOccurs="1" maxOccurs="unbounded"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ContinuousDeployment">
    <xs:complexContent>
      <xs:extension base="om:DeploymentBase">
        <xs:attribute name="targetAgeYrs" type="xs:double" use="required">
          <xs:annotation>
            <xs:documentation>
              Target age of intervention.
              
              Input is rounded to the nearest time step.
            </xs:documentation>
            <xs:appinfo>units:Years;min:0;max:100;name:Target age;</xs:appinfo>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="begin" type="xs:string" use="optional">
          <xs:annotation>
            <xs:documentation>
              First time at which this deployment is active. If not specified,
              deployment starts at the beginning of the intervention period.
              
              See doc on intervention period and on monitoring/startDate for
              details of how times work. Can be specified in steps, days,
              years, or as a date (examples: 15t, 75d, 0.2y, 2000-03-16).
            </xs:documentation>
            <xs:appinfo>name:First time active;units:User defined (defauls to steps);</xs:appinfo>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="end" type="xs:string" use="optional">
          <xs:annotation>
            <xs:documentation>
              End of the period during which the intervention is active (to be
              exact, the first step of the intervention period at which the
              item becomes inactive). If not specified, deployment never
              ceases after starting during the simulation.
              
              See doc on intervention period and on monitoring/startDate for
              details of how times work. Can be specified in steps, days,
              years, or as a date (examples: 15t, 75d, 0.2y, 2000-03-16).
            </xs:documentation>
            <xs:appinfo>units:User defined (defauls to steps);name:End step;</xs:appinfo>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TimedBaseList">
    <xs:sequence>
      <!-- Note: minimum is 1 to save an extra check in code. -->
      <xs:element name="deploy" type="om:TimedBase" minOccurs="1" maxOccurs="unbounded"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="MassListWithCum">
    <xs:sequence>
      <xs:element name="restrictToSubPop" minOccurs="0" type="om:RestrictToSubPop"/>
      <xs:element name="cumulativeCoverage" minOccurs="0">
        <xs:annotation>
          <xs:documentation>
          If this element is not specified, standard deployment occurs, where
          a portion of the population as given by the coverage property of this
          campaign is selected, and interventions are deployed to all of
          these people (regardless of previous coverage).
          
          If this attribute is specified, instead, the population is divided
          into two sets: those who are a member of a certain sub-population and
          those who are not (see "subPopRemoval" element).
          If the proportion of people in the
          first set is less than the desired coverage, then the proportion of
          people from the second set needed to increase total coverage to the
          desired coverage is calculated. This proportion is then used as the
          probablity of selection from the second set into a third set of
          people who then receive all interventions deployed by this campaign.
          
          Note that selection is stochastic so the final coverage level may not
          be exactly that desired. Note also that the component used when
          selecting people need not actually be one of the components deployed
          by this intervention, although that is the intended use case.
          </xs:documentation>
          <xs:appinfo>name:Cumulative coverage;</xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="component" type="xs:string" use="required">
            <xs:annotation>
              <xs:documentation>
                The identifier (short name) of the component used when
                selecting people.
              </xs:documentation>
              <xs:appinfo>name:Component identifier;</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
      <!-- Note: minimum is 1 to save an extra check in code. -->
      <xs:element name="deploy" type="om:MassDeployment" minOccurs="1" maxOccurs="unbounded"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="RestrictToSubPop">
    <xs:annotation>
      <xs:documentation>
        If this element is specified, deployment is restricted to some
        sub-population (specified via the "id" attribute); otherwise the
        target population is the entire simulated population. Either way, other
        deployment restrictions (age, time, number of vaccine doeses) still
        apply.
      </xs:documentation>
      <xs:appinfo>name:Restrict to sub-population;</xs:appinfo>
    </xs:annotation>
    <xs:attribute name="id" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>
          The identifier (short name) of the sub-population (i.e. the "id" of
          some intervention component). Also see the "complement" attribute.
        </xs:documentation>
        <xs:appinfo>name:Sub-population identifier;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="complement" type="xs:boolean" default="false">
      <xs:annotation>
        <xs:documentation>
          If this is not specified or is false, deployment is restricted to the
          sub-population of people protected by the intervention component
          who's id is given. If complement is set to true, deployment is
          instead restricted to the complement of that sub-population, i.e. to
          those <i>not</i> protected by the intervention component.
        </xs:documentation>
        <xs:appinfo>name:Complement;</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="VaccineDescription">
    <xs:annotation>
      <xs:documentation>Description of a vaccine's effect</xs:documentation>
      <xs:appinfo>name:Vaccine descriptions;</xs:appinfo>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="decay" type="om:DecayFunction">
        <xs:annotation>
          <xs:documentation>
            Specification of decay of efficacy. Documentation: see DecayFunction type
            or https://github.com/SwissTPH/openmalaria/wiki/ModelDecayFunctions
          </xs:documentation>
          <xs:appinfo>name:Decay of effect;</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element name="efficacyB" type="om:DoubleValue">
        <xs:annotation>
          <xs:documentation>
            Measure of variation in vaccine efficacy: efficacy is sampled from
            a beta distribution with efficacyB its beta parameter and its alpha
            parameter fixed such that the mean is that given by initialEfficacy.
          </xs:documentation>
          <xs:appinfo>units:Positive real;min:0.001;max:1.00E+06;name:Variance parameter for vaccine efficacy;</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="initialEfficacy" type="om:DoubleValue">
        <xs:annotation>
          <xs:documentation>
            Mean efficacy values before decay (see efficacyB and decay parameter
            descriptions for sampling and decay). The i-th value in this list
            is used for the efficacy of the vaccine after the i-th dose. Where
            more doses are given than there are values in this list, the last
            value is repeated.
          </xs:documentation>
          <xs:appinfo>units:dimensionless;min:0;max:1;name:Initial mean efficacy;</xs:appinfo>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ITNDescription">
    <xs:annotation>
      <xs:appinfo>name:Description</xs:appinfo>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="usage" type="om:DoubleValue">
        <xs:annotation>
          <xs:documentation>
          Usage of nets by humans, from 0 to 1.
          
          At the moment this is constant across humans and deterministic:
          relative attractiveness and survival factors are
          base*(1-usage*propActing) + intervention_factor*usage*propActing.
          
          See also "propActing" (proportion of bits for which net acts).
        </xs:documentation>
          <xs:appinfo>units:dimensionless;min:0;max:1;name:Proportion of time nets are used by humans;</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element name="holeRate" type="om:LognormalSample">
        <xs:annotation>
          <xs:documentation>
          The rate at which new holes are made in nets.
          
          nHoles(t) = nHoles(t-1) + X where X~Pois(R/T) where T is the number
          of time-steps per year. R is sampled from
          log-normal: R ~ log N( log(mean)-sigmaÂ²/2, sigmaÂ² ) and is covariant
          with ripRate and insecticideDecay. (To be exact, a single Gaussian
          sample is taken, adjusted for each sigma then exponentiated.)
        </xs:documentation>
          <xs:appinfo>units:Holes per annum;min:0;name:Rate at which holes are made;</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element name="ripRate" type="om:LognormalSample">
        <xs:annotation>
          <xs:documentation>
          Each existing hole has a probability of being ripped bigger according
          to a Poisson process with this rate as (only) parameter.
          
          New rips occur in a net at rate X~Pois(hÃR/T) where h is the number
          of existing holes and T the number of time-steps per year. R is
          sampled from log-normal: R ~ log N( log(mean)-sigmaÂ²/2, sigmaÂ² )
          and is covariant with holeRate and insecticideDecay. (To be exact, a
          single Gaussian sample is taken, adjusted for the each and sigma
          then exponentiated.)
        </xs:documentation>
          <xs:appinfo>units:Rips per existing hole per annum;min:0;name:Rate at which holes are enlarged;</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element name="ripFactor" type="om:DoubleValue">
        <xs:annotation>
          <xs:documentation>
          This factor expresses how important rips are in increasing the hole.
          
          The hole index of a net is h + FÃx where h and x are the total numbers
          of holes and rips respectively and F is the rip factor.
        </xs:documentation>
          <xs:appinfo>units:none;min:0;name:Rip factor;</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element name="initialInsecticide" type="om:NormalSample">
        <xs:annotation>
          <xs:documentation>
          The insecticide concentration of new nets is Gaussian distributed with
          mean "mu" and a standard deviation "sigma". The standard deviation
          should be small relative to the mean to avoid negative initial
          concentration. Any negative values sampled are set to 0.
        </xs:documentation>
          <xs:appinfo>units:mg/mÂ²;min:0;name:Initial insecticide;</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element name="insecticideDecay" type="om:DecayFunction">
        <xs:annotation>
          <xs:documentation>
          Decay curve for insecticide content of nets. Documentation: see DecayFunction
          type or https://github.com/SwissTPH/openmalaria/wiki/ModelDecayFunctions
          
          The distribution of decay rates over nets is covariant with the
          distribution of ripRate and holeRate over nets. This distribution is
          generated by taking one sample per net from a Gaussian distribution
          with mean 0 and standard deviation 1. For each variable, the sample
          is multiplied by the respective sigma and a constant added such that,
          once exponentiated, the mean of the variable over nets is 1. The
          variable is then exponentiated and multiplied by the required mean
          rate for the respective variable.
        </xs:documentation>
          <xs:appinfo>units:none;name:Decay of insecticide;</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element name="attritionOfNets" type="om:DecayFunction">
        <xs:annotation>
          <xs:documentation>
          Specifies the rate at which nets are disposed of over time.
          Documentation: see DecayFunction type or
          https://github.com/SwissTPH/openmalaria/wiki/ModelDecayFunctions
          
          In the current model, nets are disposed of randomly (no correlation
          with state of decay) such that the chance of each net surviving until
          age t is the value of this decay function at time t. Equivalently
          (where a large number of nets are distributed at the same time), the
          proportion of nets remaining in use should match this decay function
          over time.
          
          Humans are removed from the intervention component's sub-population
          on disposal (attrition) of their nets. Currently this event is not 
          reported.
        </xs:documentation>
          <xs:appinfo>units:dimensionless;name:Attrition of nets;</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element name="anophelesParams" maxOccurs="unbounded">
        <xs:complexType>
          <xs:sequence>
            <xs:choice>
              <xs:element name="deterrency" type="om:ITNDeterrency">
                <xs:annotation>
                  <xs:documentation>
                  Effect of net on attractiveness of humans to mosquitoes relative to
                  an unprotected adult human. Parameterisations should take into
                  account that mosquitoes do not always bite indoors.
                  
                  Attractiveness of the human is multiplied by
                  exp(log(H)Ãh + log(P)Ãp + log(I)ÃhÃp
                  where H, P and I are the hole, insecticide and interaction factors
                  respectively, h=exp(-holeIndexÃholeScalingFactor) and
                  p=1âexp(-insecticideContentÃinsecticideScalingFactor).
                  </xs:documentation>
                  <xs:appinfo>units:dimensionless;min:0;max:1;name:Relative attractiveness;</xs:appinfo>
                </xs:annotation>
              </xs:element>
              <xs:element name="twoStageDeterrency">
                <xs:annotation>
                  <xs:documentation>
                  Effect of net on attractiveness of humans to mosquitoes relative to
                  an unprotected adult human. Parameterisations should take into
                  account that mosquitoes do not always bite indoors.
                  
                  This deterrency model multiplies human attractiveness by
                  pEntÃpAtt divided by a base factor to normalise the output to
                  1 when there are no nets.
                  </xs:documentation>
                  <xs:appinfo>units:dimensionless;name:Relative attractiveness;</xs:appinfo>
                </xs:annotation>
                <xs:complexType>
                  <xs:all>
                    <xs:element name="entering" type="om:IRSDeterrency">
                      <xs:annotation>
                        <xs:documentation>
                          pEnt represents the relative probability of entering due to
                          ITNs: pEnt = exp(log(P)Ãp) where P is the insecticide
                          factor and 
                          p=1âexp(-insecticideContentÃinsecticideScalingFactor).
                        </xs:documentation>
                        <xs:appinfo>units:dimensionless;name:RA (entering)</xs:appinfo>
                      </xs:annotation>
                    </xs:element>
                    <xs:element name="attacking" type="om:ITNKillingEffect">
                      <xs:annotation>
                        <xs:documentation>
                          pAtt represents the relative probability of attacking a human
                          after entering a house due to ITNs (i.e. of feeding/dying vs.
                          flying off): pAtt = B + HÃh + PÃp + IÃhÃp
                          where B is the base (without net) probability; H, P and
                          I are the hole, insecticide and interaction factors
                          respectively, h=exp(-holeIndexÃholeScalingFactor) and
                          p=1âexp(-insecticideContentÃinsecticideScalingFactor).
                        </xs:documentation>
                        <xs:appinfo>units:dimensionless;name:RA (attacking)</xs:appinfo>
                      </xs:annotation>
                    </xs:element>
                  </xs:all>
                </xs:complexType>
              </xs:element>
            </xs:choice>
            <xs:element name="preprandialKillingEffect" type="om:ITNKillingEffect">
              <xs:annotation>
                <xs:documentation>
                Effect of net on survival mosquitoes as they seek to bite a human
                after choosing that human, relative to the same person not
                sleeping under a net. Parameterisations should take into
                account that mosquitoes do not always bite indoors.
                
                Killing proportion is calculated as K = B + HÃh + PÃp + IÃhÃp
                where B is the base (without net) probability of death,
                H, P and I are the hole, insecticide and interaction factors
                respectively, h=exp(-holeIndexÃholeScalingFactor) and
                p=1âexp(-insecticideContentÃinsecticideScalingFactor).
                
                Survival of mosquitoes is adjusted via multiplication by (1âK) / (1âB).
                To keep this in the range [0,1], we require that B+H â¤ 1, B+P â¤ 1,
                B+H+P+I â¤ 1, H â¥ 0, P â¥ 0 and H+P+I â¥ 0.
                </xs:documentation>
                <xs:appinfo>units:dimensionless;min:0;max:1;name:Pre-prandial killing effect;</xs:appinfo>
              </xs:annotation>
            </xs:element>
            <xs:element name="postprandialKillingEffect" type="om:ITNKillingEffect">
              <xs:annotation>
                <xs:documentation>
                Effect of net on survival mosquitoes as they seek to escape from
                a human host and rest after a blood meal, relative to the same
                person not sleeping under a net. Parameterisations should take
                into account that mosquitoes do not always bite indoors.
                
                Killing proportion is calculated as K = B + HÃh + PÃp + IÃhÃp
                where B is the base (without net) probability of death,
                H, P and I are the hole, insecticide and interaction factors
                respectively, h=exp(-holeIndexÃholeScalingFactor) and
                p=1âexp(-insecticideContentÃinsecticideScalingFactor).
                
                Survival of mosquitoes is adjusted via multiplication by (1âK) / (1âB).
                To keep this in the range [0,1], we require that B+H â¤ 1, B+P â¤ 1,
                B+H+P+I â¤ 1, H â¥ 0, P â¥ 0 and H+P+I â¥ 0.
                </xs:documentation>
                <xs:appinfo>units:dimensionless;min:0;max:1;name:Post-prandial killing effect;</xs:appinfo>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
          <xs:attribute name="mosquito" type="xs:string" use="required">
            <xs:annotation>
              <xs:documentation>
                Name of the affected anopheles-mosquito species.
              </xs:documentation>
              <xs:appinfo>name:Mosquito species;</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="propActive" type="xs:double" default="1">
            <xs:annotation>
              <xs:documentation>
              The proportion of bites, when nets are in use, for which the net
              has any action whatsoever on the mosquito.
              
              At the moment this is constant across humans and deterministic:
              relative attractiveness and survival factors are
              base*(1-usage*propActing) + intervention_factor*usage*propActing.
              
              See also "usage" (proportion of time nets are used by humans).
            </xs:documentation>
              <xs:appinfo>units:dimensionless;min:0;max:1;name:Proportion of bites for which net acts;</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="GVIDescription">
    <xs:sequence>
      <xs:element name="usage" type="om:DoubleValue">
        <xs:annotation>
          <xs:documentation>
          Usage of Generic vector interventions, from 0 to 1.
        </xs:documentation>
          <xs:appinfo>units:dimensionless;min:0;max:1;name:Proportion of generic vector interventions;</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element name="decay" type="om:DecayFunction">
        <xs:annotation>
          <xs:documentation>
            Description of decay of all intervention effects.
            Documentation: see DecayFunction type or
            https://github.com/SwissTPH/openmalaria/wiki/ModelDecayFunctions
          </xs:documentation>
          <xs:appinfo>name:Decay;</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element name="anophelesParams" maxOccurs="unbounded">
        <xs:annotation>
          <xs:appinfo>name:Per-mosquito species parameters;</xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="deterrency" type="om:DoubleValue" minOccurs="0">
              <xs:annotation>
                <xs:documentation>
                Effect of IRS on attractiveness of humans to mosquitoes relative to
                an unprotected adult human. Parameterisations should take into
                account that mosquitoes do not always bite indoors.
                
                Attractiveness of the human is multiplied this factor times
                survival of effect.
                </xs:documentation>
                <xs:appinfo>units:dimensionless;min:0;max:1;name:Relative attractiveness</xs:appinfo>
              </xs:annotation>
            </xs:element>
            <xs:element name="preprandialKillingEffect" type="om:DoubleValue" minOccurs="0">
              <xs:annotation>
                <xs:documentation>
                Effect of IRS on survival mosquitoes as they seek to bite a human
                after choosing that human, relative to the same person not
                protected by IRS. Parameterisations should take into account
                that mosquitoes do not always bite indoors. This parameter has
                been added since some data shows IRS to have a preprandial
                killing effect.
                
                Killing proportion is this factor multiplied by survival of effect.
                </xs:documentation>
                <xs:appinfo>units:dimensionless;min:0;max:1;name:Pre-prandial killing effect</xs:appinfo>
              </xs:annotation>
            </xs:element>
            <xs:element name="postprandialKillingEffect" type="om:DoubleValue" minOccurs="0">
              <xs:annotation>
                <xs:documentation>
                Effect of IRS on survival mosquitoes as they seek to escape from
                a human host and rest after a blood meal, relative to the same
                person not protected by IRS. Parameterisations should take
                into account that mosquitoes do not always bite indoors.
                
                Killing proportion is this factor multiplied by survival of effect.
                </xs:documentation>
                <xs:appinfo>units:dimensionless;min:0;max:1;name:Post-prandial killing effect</xs:appinfo>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
          <xs:attribute name="mosquito" type="xs:string" use="required">
            <xs:annotation>
              <xs:documentation>
                Name of the affected anopheles-mosquito species.
              </xs:documentation>
              <xs:appinfo>name:Mosquito species</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="propActive" type="xs:double" default="1">
            <xs:annotation>
              <xs:documentation>
              The proportion of bites for which the IRS
              has any action whatsoever on the mosquito.
              
              At the moment this is constant across humans and deterministic:
              relative attractiveness and survival factors are
              base*(1-propActing) + intervention_factor*propActing.
            </xs:documentation>
              <xs:appinfo>units:dimensionless;min:0;max:1;name:Proportion of bites for which IRS acts;</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="IRSDescription">
    <xs:annotation>
      <xs:documentation>
        Description of effect for the more complex and probably more realistic
        Briet model: IRS has three effects, whos strength is calculated as a
        function of surviving insecticide content.
      </xs:documentation>
      <xs:appinfo>name:Description (based on decay of insecticide);</xs:appinfo>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="usage" type="om:DoubleValue">
        <xs:annotation>
          <xs:documentation>
          Usage of Indoor residual spraying (IRS) interventions, from 0 to 1.
        </xs:documentation>
          <xs:appinfo>units:dimensionless;min:0;max:1;name:Proportion of Indoor residual spraying (IRS) interventions;</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element name="initialInsecticide" type="om:NormalSample">
        <xs:annotation>
          <xs:documentation>
          The insecticide concentration of IRS (at time of spraying) is
          Gaussian distributed with mean "mu" and a standard deviation "sigma".
          The standard deviation should be small relative to the mean to avoid
          negative initial concentration. Any negative values sampled are set
          to 0.
        </xs:documentation>
          <xs:appinfo>units:Î¼g/cmÂ²;min:0;name:Initial insecticide</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element name="insecticideDecay" type="om:DecayFunction">
        <xs:annotation>
          <xs:documentation>
          Decay curve for insecticide content of IRS. Documentation: see DecayFunction
          type or https://github.com/SwissTPH/openmalaria/wiki/ModelDecayFunctions
        </xs:documentation>
          <xs:appinfo>units:none;name:Decay of insecticide</xs:appinfo>
        </xs:annotation>
      </xs:element>
      <xs:element name="anophelesParams" maxOccurs="unbounded">
        <xs:annotation>
          <xs:appinfo>name:Per-mosquito species parameters;</xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="deterrency" type="om:IRSDeterrency">
              <xs:annotation>
                <xs:documentation>
                Effect of IRS on attractiveness of humans to mosquitoes relative to
                an unprotected adult human. Parameterisations should take into
                account that mosquitoes do not always bite indoors.
                
                Attractiveness of the human is multiplied by exp(PÃlog(p))
                where P is the insecticide factor,
                p=1âexp(-insecticideContentÃinsecticideScalingFactor).
                </xs:documentation>
                <xs:appinfo>units:dimensionless;min:0;max:1;name:Relative attractiveness</xs:appinfo>
              </xs:annotation>
            </xs:element>
            <xs:element name="preprandialKillingEffect" type="om:IRSKillingEffect">
              <xs:annotation>
                <xs:documentation>
                Effect of IRS on survival mosquitoes as they seek to bite a human
                after choosing that human, relative to the same person not
                protected by IRS. Parameterisations should take into account
                that mosquitoes do not always bite indoors. This parameter has
                been added since some data shows IRS to have a preprandial
                killing effect.
                
                Killing proportion is calculated as K = B + PÃp where B is the
                base (without protection) probability of death, and P is the
                insecticide factor,
                p=1âexp(-insecticideContentÃinsecticideScalingFactor).
                
                Survival of mosquitoes is adjusted via multiplication by (1âK) / (1âB).
                To keep this in the range [0,1], we require that B+P â¤ 1 and P â¥ 0.
                </xs:documentation>
                <xs:appinfo>units:dimensionless;min:0;max:1;name:Pre-prandial killing effect</xs:appinfo>
              </xs:annotation>
            </xs:element>
            <xs:element name="postprandialKillingEffect" type="om:IRSKillingEffect">
              <xs:annotation>
                <xs:documentation>
                Effect of IRS on survival mosquitoes as they seek to escape from
                a human host and rest after a blood meal, relative to the same
                person not protected by IRS. Parameterisations should take
                into account that mosquitoes do not always bite indoors.
                
                Killing proportion is calculated as K = B + PÃp where B is the
                base (without protection) probability of death, and P is the
                insecticide factor,
                p=1âexp(-insecticideContentÃinsecticideScalingFactor).
                
                Survival of mosquitoes is adjusted via multiplication by (1âK) / (1âB).
                To keep this in the range [0,1], we require that B+P â¤ 1 and P â¥ 0.
                </xs:documentation>
                <xs:appinfo>units:dimensionless;min:0;max:1;name:Post-prandial killing effect</xs:appinfo>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
          <xs:attribute name="mosquito" type="xs:string" use="required">
            <xs:annotation>
              <xs:documentation>
                Name of the affected anopheles-mosquito species.
              </xs:documentation>
              <xs:appinfo>name:Mosquito species</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="propActive" type="xs:double" default="1">
            <xs:annotation>
              <xs:documentation>
              The proportion of bites for which the IRS
              has any action whatsoever on the mosquito.
              
              At the moment this is constant across humans and deterministic:
              relative attractiveness and survival factors are
              base*(1-propActing) + intervention_factor*propActing.
            </xs:documentation>
              <xs:appinfo>units:dimensionless;min:0;max:1;name:Proportion of bites for which IRS acts;</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="IRSDeterrency">
    <xs:attribute name="insecticideFactor" type="xs:double" use="required">
      <xs:annotation>
        <xs:documentation>
          Value expected to be at least 0. Negative values are not
          necessarily invalid, but allow nets to increase transmission.
        </xs:documentation>
        <xs:appinfo>units:none;name:Insecticide factor;max:1</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="insecticideScalingFactor" type="xs:double" use="required">
      <xs:annotation>
        <xs:appinfo>units:none;name:Insecticide scaling factor;min:0</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="IRSKillingEffect">
    <xs:complexContent>
      <xs:extension base="om:IRSDeterrency">
        <xs:attribute name="baseFactor" type="xs:double" use="required">
          <xs:annotation>
            <xs:appinfo>units:dimensionless;name:Probability of mosquito death without intervention</xs:appinfo>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ITNDeterrency">
    <xs:complexContent>
      <xs:extension base="om:IRSDeterrency">
        <xs:attribute name="holeFactor" type="xs:double" use="required">
          <xs:annotation>
            <xs:documentation>
              Value expected to be at least 0. Negative values are not
              necessarily invalid, but allow nets to increase transmission.
            </xs:documentation>
            <xs:appinfo>units:none;name:Hole factor;max:1</xs:appinfo>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="interactionFactor" type="xs:double" use="required">
          <xs:annotation>
            <xs:documentation>
              holeFactor + insecticideFactor + interactionFactor must not be greater
              than 1, and is expected to be at least 0. A negative value is not
              necessarily invalid, but allows nets to increase transmission.
            </xs:documentation>
            <xs:appinfo>units:none;name:Interaction factor;max:1</xs:appinfo>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="holeScalingFactor" type="xs:double" use="required">
          <xs:annotation>
            <xs:appinfo>units:none;name:Hole scaling factor;min:0</xs:appinfo>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ITNKillingEffect">
    <xs:complexContent>
      <xs:extension base="om:ITNDeterrency">
        <xs:attribute name="baseFactor" type="xs:double" use="required">
          <xs:annotation>
            <xs:appinfo>units:dimensionless;name:Probability of mosquito death without intervention</xs:appinfo>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="VectorSpeciesIntervention">
    <xs:annotation>
      <xs:documentation>
        Descriptions of the effects of vector interventions with per-species effects.
      </xs:documentation>
      <xs:appinfo>units:dimensionless;min:0;max:1;name:Vector population intervention;</xs:appinfo>
    </xs:annotation>
    <xs:all>
      <xs:element name="seekingDeathRateIncrease" minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            Describe an effect on the increase in the death rate while host
            seeking (mu_vA) due to this intervention.
            
            Enter the rate increase (i.e. if rate increases to 120% of normal,
            give 0.2). New death rate while seeking is old Ã (1 + increase)
            where increase is this factor given. Must have increas â¥ -1.
           </xs:documentation>
          <xs:appinfo>units:dimensionless;name:Proportional increase in deaths while host searching;</xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="decay" type="om:DecayFunction"/>
          </xs:sequence>
          <xs:attribute name="initial" type="xs:double" use="required">
            <xs:annotation>
              <xs:appinfo>units:dimensionless;min:-1;max:inf;name:Initial proportion increase</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
      <xs:element name="probDeathOvipositing" minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            Describe an effect of increased mortality while ovipositing
            due to this intervention. Enter the probability of dying due to
            this intervention.
           </xs:documentation>
          <xs:appinfo>units:dimensionless;name:Proportion ovipositing mosquitoes killed;</xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="decay" type="om:DecayFunction"/>
          </xs:sequence>
          <xs:attribute name="initial" type="xs:double" use="required">
            <xs:annotation>
              <xs:appinfo>units:dimensionless;min:0;max:1;name:Initial probability of killing</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>
      <xs:element name="emergenceReduction" minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            Describe an effect on emergence of pupa into adults: this value is the
            proportion of emerging pupa which are killed by this intervention.
            
            This can be used as a crude way of modelling larviciding. It ca
            also be used to increase emergence by giving a negative value.
            The emergence rate is "old rate" Ã (1 - factor) where factor is the
            value given here; thus, for example, using -1 will double emergence.
           </xs:documentation>
          <xs:appinfo>units:dimensionless;name:Proportion of emerging pupa killed;</xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="decay" type="om:DecayFunction"/>
          </xs:sequence>
          <xs:attribute name="initial" type="xs:double" use="required">
            <xs:annotation>
              <xs:appinfo>units:dimensionless;min:-inf;max:1;name:Initial proportion reduction</xs:appinfo>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element> 
    </xs:all>
    <xs:attribute name="mosquito" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>
          Name of the species/subspecies/variant.
        </xs:documentation>
        <xs:appinfo>name:Species/subspecies/variant name</xs:appinfo>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
</xs:schema>
